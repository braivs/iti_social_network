{"version":3,"sources":["components/Profile/ProfileInfo/ProfileInfo.module.scss","components/Profile/Profile.module.css","components/Profile/MyPosts/Post/Post.module.scss","components/Profile/MyPosts/MyPost.module.css","components/Profile/ProfileInfo/ProfileStatusWithHooks.module.scss","components/Profile/MyPosts/Post/Post.tsx","assets/images/like.png","components/Profile/MyPosts/MyPosts.tsx","components/Profile/MyPosts/MyPostsContainer.tsx","assets/images/default_ava.png","components/Profile/ProfileInfo/ProfileStatusWithHooks.tsx","components/Profile/ProfileInfo/ProfileDataForm.tsx","components/Profile/ProfileInfo/ProfileInfo.tsx","assets/images/jobYes.png","assets/images/jobNo.png","components/Profile/Profile.tsx","components/Profile/ProfileContainer.tsx"],"names":["module","exports","Post","props","className","s","item","src","ava","alt","text","message","likes","likesCount","like","MyPosts","React","memo","postElements","posts","reverse","map","p","id","postsBlock","AddNewPostFormRedux","onSubmit","values","addPost","newPostText","maxLength10","maxLengthCreator","reduxForm","form","handleSubmit","Field","component","Textarea","name","placeholder","validate","required","textarea","MyPostsContainer","connect","state","profilePage","dispatch","newPostBody","ProfileStatusWithHooks","useState","editMode","setEditMode","status","setStatus","useEffect","container","onDoubleClick","onChange","e","currentTarget","value","autoFocus","onBlur","updateStatus","ProfileDataFormReduxForm","initialValues","error","style","formSummaryError","createField","Input","jobContainer","type","contacts","Object","keys","key","contact","ProfileDataForm","formData","ProfileInfo","profile","isOwner","savePhoto","saveProfile","length","Preloader","descriptionBlock","left","photos","large","defaultAva","mainPhoto","target","files","right","fullName","lookingForAJob","lookingForAJobDescription","aboutMe","profileUpdated","then","goToEditMode","ProfileData","onClick","jobStatus","contactTitle","contactValue","Contact","Profile","content","ProfileContainer","userId","parseInt","this","match","params","authorizedUserId","history","push","getUserProfile","getStatus","refreshProfile","prevProps","prevState","snapshot","Component","compose","auth","isAuth","withRouter"],"mappings":"6GACAA,EAAOC,QAAU,CAAC,iBAAmB,sCAAsC,KAAO,0BAA0B,UAAY,+BAA+B,MAAQ,2BAA2B,aAAe,kCAAkC,UAAY,+BAA+B,QAAU,+B,oBCAhSD,EAAOC,QAAU,CAAC,QAAU,2B,oBCA5BD,EAAOC,QAAU,CAAC,KAAO,mBAAmB,IAAM,kBAAkB,KAAO,qB,oBCA3ED,EAAOC,QAAU,CAAC,WAAa,2BAA2B,MAAQ,sBAAsB,SAAW,2B,oBCAnGD,EAAOC,QAAU,CAAC,UAAY,0CAA0C,OAAS,yC,8KCwBlEC,EAfkB,SAACC,GAC9B,OACI,8BACI,sBAAKC,UAAWC,IAAEC,KAAlB,UACI,qBAAKC,IAAKC,IAAKC,IAAI,GAAGL,UAAWC,IAAEG,MACnC,gCACI,qBAAKJ,UAAWC,IAAEK,KAAlB,SAAyBP,EAAMQ,UAC/B,sBAAKP,UAAWC,IAAEO,MAAlB,oBAAiCT,EAAMU,iBAE3C,8BAAK,qBAAKN,ICnBX,itBDmBsBE,IAAI,GAAGL,UAAWC,IAAES,e,mDEX5CC,EAAsCC,IAAMC,MAAK,SAAAd,GAC1D,IAAIe,EACA,YAAIf,EAAMgB,OACTC,UACAC,KAAI,SAAAC,GAAC,OAAI,cAAC,EAAD,CAAiBX,QAASW,EAAEX,QAASE,WAAYS,EAAET,YAAxCS,EAAEC,OAM3B,OACI,sBAAKnB,UAAWC,IAAEmB,WAAlB,UACI,0CACA,cAACC,EAAD,CAAqBC,SAPX,SAACC,GACfxB,EAAMyB,QAAQD,EAAOE,gBAOjB,8BACI,qBAAKzB,UAAWC,IAAEc,MAAlB,SACKD,YAWfY,EAAcC,YAAiB,IAgB/BN,EAAsBO,YAAwB,CAACC,KAAM,sBAA/BD,EAdsC,SAAC7B,GAC/D,OACI,uBAAMuB,SAAUvB,EAAM+B,aAAtB,UACI,8BACI,cAACC,EAAA,EAAD,CAAOC,UAAWC,IAAUC,KAAM,cAAeC,YAAY,eACtDC,SAAU,CAACC,IAAUX,GAAc1B,UAAWC,IAAEqC,aAE3D,8BACI,sDCdHC,EAAmBC,aAfR,SAACC,GACrB,MAAO,CACH1B,MAAO0B,EAAMC,YAAY3B,UAKN,SAAC4B,GACxB,MAAO,CACHnB,QAAS,SAACoB,GACND,EAASnB,YAAQoB,QAKGJ,CAA6C7B,G,kCC/B9D,MAA0B,wC,kBCQ5BkC,EAA2D,SAAC9C,GACrE,MAA8B+C,oBAAS,GAAvC,mBAAKC,EAAL,KAAeC,EAAf,KACA,EAA0BF,mBAAS/C,EAAMkD,QAAzC,mBAAKA,EAAL,KAAaC,EAAb,KAEAC,qBAAU,WACND,EAAUnD,EAAMkD,UACjB,CAAClD,EAAMkD,SAeV,OACI,sBAAKjD,UAAWC,IAAEmD,UAAlB,WACML,GACF,sBAAK/C,UAAWC,IAAEgD,OAAlB,UACI,yCAAe,sBAAMI,cAjBR,WACrBL,GAAY,IAgBW,SAAwCjD,EAAMkD,QAAU,aAG1EF,GACD,qBAAK/C,UAAWC,IAAEgD,OAAlB,SACI,uBAAOK,SAbI,SAACC,GACpBL,EAAUK,EAAEC,cAAcC,QAYeC,WAAW,EACrCC,OAnBQ,WACvBX,GAAY,GACZjD,EAAM6D,aAAaX,IAiBwBQ,MAAOR,U,iBCapDY,EAA2BjC,YAAiC,CAACC,KAAM,gBAAxCD,EA7CuD,SAAC,GAIO,IAHHE,EAGE,EAHFA,aACAgC,EAEE,EAFFA,cACAC,EACE,EADFA,MAEzF,OAAO,uBAAMzC,SAAUQ,EAAhB,UACH,gCACI,0CACCiC,GAAS,qBAAK/D,UAAWgE,IAAMC,iBAAtB,SACLF,OAIT,gCACI,0CADJ,KACuBG,YAAY,cAAe,WAAY,GAAIC,QAElE,sBAAKnE,UAAWC,IAAEmE,aAAlB,UACI,mDADJ,IAC+BF,YAAY,cAAe,iBAAkB,GAAIC,IAAO,CAACE,KAAM,gBAE9F,gCACI,wDACCH,YAAY,yBAA0B,4BAA6B,GAAIjC,QAE5E,gCACI,yCADJ,IAEKiC,YAAY,WAAY,UAAW,GAAIjC,QAE5C,gCACI,yCADJ,KACsB6B,EAAcQ,UAAYC,OAAOC,KAAKV,EAAcQ,UAAUrD,KAAI,SAAAwD,GACpF,OAAO,qBAAezE,UAAWC,IAAEyE,QAA5B,SACH,8BAAID,EAAJ,KAAWP,YAAYO,EAAK,YAAcA,EAAK,GAAIN,SADtCM,eAwBhBE,EAAuC,SAAC5E,GAKjD,OAAO,cAAC8D,EAAD,CAA0BvC,SAJhB,SAACsD,GACd7E,EAAMuB,SAASsD,IAGkCd,cAAe/D,EAAM+D,iBC9CjEe,EAA8C,SAAC,GAOO,IANHC,EAME,EANFA,QACA7B,EAKE,EALFA,OACAW,EAIE,EAJFA,aACAmB,EAGE,EAHFA,QACAC,EAEE,EAFFA,UACAC,EACE,EADFA,YAE5D,EAA8BnC,oBAAS,GAAvC,mBAAKC,EAAL,KAAeC,EAAf,KAEA,IAAKuB,OAAOC,KAAKM,GAASI,OACtB,OAAO,cAACC,EAAA,EAAD,IAsBX,OAAO,mCACH,sBAAKnF,UAAWC,IAAEmF,iBAAlB,UACI,sBAAKpF,UAAWC,IAAEoF,KAAlB,UACI,qBAAKlF,IAAK2E,EAAQQ,OAAOC,MAAQT,EAAQQ,OAAOC,MAAQC,EAAYnF,IAAI,GAAGL,UAAWC,IAAEwF,YACvFV,GAAW,uBAAOV,KAAM,OAAQf,SAvBjB,SAACC,GACrBA,EAAEmC,OAAOC,OAASpC,EAAEmC,OAAOC,MAAMT,QACjCF,EAAUzB,EAAEmC,OAAOC,MAAM,OAuBrB,cAAC,EAAD,CAAwB1C,OAAQA,EAAQW,aAAcA,OAE1D,qBAAK5D,UAAWC,IAAE2F,MAAlB,SACK7C,EACK,cAAC,EAAD,CAAiBe,cAAe,CAC9B+B,SAAUf,EAAQe,SAClBC,eAAgBhB,EAAQgB,eACxBC,0BAA2BjB,EAAQiB,0BACnCC,QAASlB,EAAQkB,QACjB1B,SAAUQ,EAAQR,UAEHQ,QAASA,EACTxD,SA9BlB,SAACsD,GACd,IAAMqB,EAAc,2BAAOnB,GAAYF,GACvBK,EAAYgB,GAEpBC,MACJ,WACIlD,GAAY,SAyBN,cAAC,EAAD,CAAamD,aAAc,WACzBnD,GAAY,IACb8B,QAASA,EAASC,QAASA,YAa5CqB,EAA8C,SAAC,GAAsC,IAArCtB,EAAoC,EAApCA,QAASC,EAA2B,EAA3BA,QAASoB,EAAkB,EAAlBA,aACpE,OAAO,gCACFpB,GAAW,8BACV,wBAAQsB,QAASF,EAAjB,oBAEF,gCACI,0CADJ,KACuBrB,EAAQe,YAE/B,sBAAK7F,UAAWC,IAAEmE,aAAlB,UACI,mDACA,qBAAKpE,UAAWC,IAAEqG,UAAWnG,IAAK2E,EAAQgB,eChGvC,y9GCAA,6tKFgGwEzF,IAAI,QAElFyE,EAAQgB,gBACP,sBAAK9F,UAAWC,IAAEmE,aAAlB,UACE,wDADF,KACmCU,EAAQiB,6BAG7C,gCACI,yCADJ,KACsBjB,EAAQkB,WAE9B,gCACI,yCADJ,KACsBzB,OAAOC,KAAKM,EAAQR,UAAUrD,KAAI,SAAAwD,GACpD,OAAO,cAAC,EAAD,CAAmB8B,aAAc9B,EAAK+B,aAAc1B,EAAQR,SAASG,IAAvDA,SAIzB,oDAAuBK,EAAQiB,iCASjCU,EAAsC,SAAC,GAAkC,IAAjCF,EAAgC,EAAhCA,aAAcC,EAAkB,EAAlBA,aACxD,OAAO,sBAAKxG,UAAWC,IAAEyE,QAAlB,UAA2B,4BAAI6B,IAA/B,KAAmDC,MGnHjDE,EAAsC,SAAC3G,GAChD,OACI,sBAAKC,UAAWC,IAAE0G,QAAlB,UACI,cAAC,EAAD,CAAa3B,UAAWjF,EAAMiF,UACjBD,QAAShF,EAAMgF,QACfD,QAAS/E,EAAM2C,YAAYoC,QAC3B7B,OAAQlD,EAAMkD,OACdgC,YAAalF,EAAMkF,YACnBrB,aAAc7D,EAAM6D,eACjC,cAACrB,EAAD,Q,gBCoBNqE,E,oKAEF,WACI,IAAIC,EAAwBC,SAASC,KAAKhH,MAAMiH,MAAMC,OAAOJ,QACxDA,IACDA,EAASE,KAAKhH,MAAMmH,mBAEhBH,KAAKhH,MAAMoH,QAAQC,KAAK,UAG5BP,IACAE,KAAKhH,MAAMsH,eAAeR,GAC1BE,KAAKhH,MAAMuH,UAAUT,M,+BAI7B,WACIE,KAAKQ,mB,gCAGT,SAAmBC,EAAuCC,EAAyBC,GAC3EX,KAAKhH,MAAMiH,MAAMC,OAAOJ,SAAWW,EAAUR,MAAMC,OAAOJ,QAC1DE,KAAKQ,mB,oBAIb,WACI,OACI,cAAC,EAAD,2BAAaR,KAAKhH,OAAlB,IACSgF,SAAUgC,KAAKhH,MAAMiH,MAAMC,OAAOJ,OAClCnE,YAAaqE,KAAKhH,MAAM2C,YACxBO,OAAQ8D,KAAKhH,MAAMkD,OACnBW,aAAcmD,KAAKhH,MAAM6D,aACzBoB,UAAW+B,KAAKhH,MAAMiF,iB,GAjCZpE,IAAM+G,WA+CtBC,sBACXpF,aAVoB,SAACC,GACrB,MAAQ,CACJC,YAAaD,EAAMC,YACnBO,OAAQR,EAAMC,YAAYO,OAC1BiE,iBAAkBzE,EAAMoF,KAAK1G,GAC7B2G,OAAQrF,EAAMoF,KAAKC,UAKE,CAACT,mBAAgBC,cAAW1D,iBAAcoB,cAAWC,kBAC9E8C,IAFWH,CAGbhB","file":"static/js/3.503881ad.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"descriptionBlock\":\"ProfileInfo_descriptionBlock__3pamK\",\"left\":\"ProfileInfo_left__3mfXh\",\"mainPhoto\":\"ProfileInfo_mainPhoto__1vsRb\",\"right\":\"ProfileInfo_right__3maEo\",\"jobContainer\":\"ProfileInfo_jobContainer__2cKgm\",\"jobStatus\":\"ProfileInfo_jobStatus__2eTTz\",\"contact\":\"ProfileInfo_contact__9-yP1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Profile_content__oI0pA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__3nsPN\",\"ava\":\"Post_ava__UJot-\",\"like\":\"Post_like__1-TO5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsBlock\":\"MyPost_postsBlock__1e-G7\",\"posts\":\"MyPost_posts__3oU51\",\"textarea\":\"MyPost_textarea__5qpuT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"ProfileStatusWithHooks_container__MjHOy\",\"status\":\"ProfileStatusWithHooks_status__yzyKQ\"};","import React from 'react';\r\nimport s from './Post.module.scss'\r\nimport ava from '../../../../assets/images/ava.png'\r\nimport like from '../../../../assets/images/like.png'\r\n\r\nexport type PostType = {\r\n    message: string\r\n    likesCount: number\r\n}\r\n\r\nconst Post: React.FC<PostType> = (props) => {\r\n    return (\r\n        <div>\r\n            <div className={s.item}>\r\n                <img src={ava} alt=\"\" className={s.ava}/>\r\n                <div>\r\n                    <div className={s.text}>{props.message}</div>\r\n                    <div className={s.likes}>Likes: {props.likesCount}</div>\r\n                </div>\r\n                <div><img src={like} alt=\"\" className={s.like}/></div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Post;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAA3QAAAN0BcFOiBwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAGHSURBVFiFxde/axVBEMDxzzwjKfxViBZCGoM2dlpbCIJlCNhaRIiNprCxFAT9EwQLBZWAhYV/QVqtREELbWIhgkgKBS00kbF47ySG3HNfLscODLfszs58b/bHzclMXRQH8Qhf8BrzE83fBYB7yE36C8dL5w90kIg4icUt3XsxX+qjEwAut/g41DtAROzBpZbhn70D4AKO1QRYGDPWL0BEnMHcGJNvvQFExH48MdztbfKm2OEOzv1D/577rbqO6V4uIlz5T/DE20l8xshxSepv4WaB6Rpetoz9xjvczczVoiXANJYL3nwS/Y7TRUuAa7scvNGVzDSIiKcR8XUbfTBK21RB2ncipxrnF1sM9vUUuJHndP8YdZEP9JfeErkeEa9qZiBwtSYAzNYGWKm9CW/UBHicmR9rAsxR9x4Y1AZ4VhPgPm7XBFjOzI2aAOebxpThv925bYw+9Qiw9rdVUJCcwB28MCw4uxYin3F44poQIuIAzo50BkdxZNNzXKn+w7AGWMrM903nHzloBfVNdBI4AAAAAElFTkSuQmCC\"","import React from 'react';\r\nimport Post from './Post/Post';\r\nimport s from './MyPost.module.css'\r\nimport {MyPostsPropsType} from './MyPostsContainer';\r\nimport {Field, InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport {maxLengthCreator, required} from \"../../../utils/validators/validators\";\r\nimport {Textarea} from \"../../common/FormsControls/FormsControls\";\r\n\r\nexport const MyPosts: React.FC<MyPostsPropsType> = React.memo(props => {\r\n    let postElements =\r\n        [...props.posts]\r\n        .reverse()\r\n        .map(p => <Post key={p.id} message={p.message} likesCount={p.likesCount}/>)\r\n\r\n    const onAddPost = (values: FormDataType) => {\r\n        props.addPost(values.newPostText)\r\n    }\r\n\r\n    return (\r\n        <div className={s.postsBlock}>\r\n            <h3>My posts</h3>\r\n            <AddNewPostFormRedux onSubmit={onAddPost}/>\r\n            <div>\r\n                <div className={s.posts}>\r\n                    {postElements}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n});\r\n\r\ntype FormDataType = {\r\n    newPostText: string\r\n}\r\n\r\nconst maxLength10 = maxLengthCreator(10)\r\n\r\nconst AddNewPostForm: React.FC<InjectedFormProps<FormDataType>> = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field component={Textarea} name={'newPostText'} placeholder='Post message'\r\n                       validate={[required, maxLength10]} className={s.textarea}/>\r\n            </div>\r\n            <div>\r\n                <button>Add post</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst AddNewPostFormRedux = reduxForm<FormDataType>({form: 'myPostsAddPostForm'})(AddNewPostForm)","import {addPost, PostsType} from '../../../redux/profile-reducer';\r\nimport {connect} from 'react-redux';\r\nimport {AppRootStateType} from '../../../redux/redux-store';\r\nimport {MyPosts} from './MyPosts';\r\nimport {Dispatch} from \"redux\";\r\n\r\ntype MapStatePropsType = {\r\n    posts: Array<PostsType>\r\n}\r\n\r\ntype MapDispatchPropsType = {\r\n    addPost: (newPostBody: string) => void\r\n}\r\n\r\nexport type MyPostsPropsType = MapStatePropsType & MapDispatchPropsType\r\n\r\nconst mapStateToProps = (state: AppRootStateType): MapStatePropsType => {\r\n    return {\r\n        posts: state.profilePage.posts\r\n        // newPostText: state.profilePage.newPostText // that was in PS99, but for me is working without it.\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch: Dispatch) => {\r\n    return {\r\n        addPost: (newPostBody: string) => {\r\n            dispatch(addPost(newPostBody))\r\n        }\r\n    }\r\n}\r\n\r\nexport const MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts);","export default __webpack_public_path__ + \"static/media/default_ava.6bc6b03f.png\";","import React, {ChangeEvent, useEffect, useState} from 'react';\r\nimport s from './ProfileStatusWithHooks.module.scss'\r\n\r\ntype ProfileStatusPropsType = {\r\n    status: string\r\n    updateStatus: (status: string) => void\r\n}\r\n\r\nexport const ProfileStatusWithHooks: React.FC<ProfileStatusPropsType> = (props) => {\r\n    let [editMode, setEditMode] = useState(false);\r\n    let [status, setStatus] = useState(props.status);\r\n\r\n    useEffect(() => {\r\n        setStatus(props.status)\r\n    }, [props.status])\r\n\r\n    const activateEditMode = () => {\r\n        setEditMode(true)\r\n    }\r\n\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false)\r\n        props.updateStatus(status)\r\n    }\r\n\r\n    const onStatusChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n        setStatus(e.currentTarget.value)\r\n    }\r\n\r\n    return (\r\n        <div className={s.container}>\r\n            {!editMode  &&\r\n            <div className={s.status}>\r\n                <b>Status: </b><span onDoubleClick={activateEditMode}>{props.status || '-----'}</span>\r\n            </div>\r\n            }\r\n            {editMode &&\r\n            <div className={s.status}>\r\n                <input onChange={onStatusChange} autoFocus={true}\r\n                       onBlur={deactivateEditMode} value={status}/>\r\n            </div>\r\n            }\r\n        </div>\r\n    )\r\n}","import React from \"react\";\r\nimport s from \"./ProfileInfo.module.scss\";\r\nimport {createField, Input, Textarea} from \"../../common/FormsControls/FormsControls\";\r\nimport {InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport {ContactsType, ProfileType} from \"../../../types/types\";\r\nimport style from './../../common/FormsControls/FormsControls.module.css'\r\n\r\nexport const ProfileDataFormSlave: React.FC<InjectedFormProps<ProfileFormValuesType>> = ({\r\n                                                                                             handleSubmit,\r\n                                                                                             initialValues,\r\n                                                                                             error\r\n                                                                                         }) => {\r\n    return <form onSubmit={handleSubmit}>\r\n        <div>\r\n            <button>save</button>\r\n            {error && <div className={style.formSummaryError}>\r\n                {error}\r\n            </div>\r\n            }\r\n        </div>\r\n        <div>\r\n            <b>Full Name</b>: {createField('placeholder', 'fullName', [], Input)}\r\n        </div>\r\n        <div className={s.jobContainer}>\r\n            <b>Looking for a job:</b> {createField('placeholder', 'lookingForAJob', [], Input, {type: 'checkbox'})}\r\n        </div>\r\n        <div>\r\n            <b>My professional skills:</b>\r\n            {createField('My professional skills', 'lookingForAJobDescription', [], Textarea)}\r\n        </div>\r\n        <div>\r\n            <b>About Me</b>:\r\n            {createField('About Me', 'aboutMe', [], Textarea)}\r\n        </div>\r\n        <div>\r\n            <b>Contacts</b>: {initialValues.contacts && Object.keys(initialValues.contacts).map(key => {\r\n            return <div key={key} className={s.contact}>\r\n                <b>{key}: {createField(key, 'contacts.' + key, [], Input)}</b>\r\n            </div>\r\n        })}\r\n        </div>\r\n    </form>\r\n}\r\n\r\nexport type ProfileFormValuesType = {\r\n    fullName: string\r\n    lookingForAJob: boolean\r\n    lookingForAJobDescription: string\r\n    aboutMe: string\r\n    contacts: ContactsType\r\n}\r\n\r\nconst ProfileDataFormReduxForm = reduxForm<ProfileFormValuesType>({form: 'edit-profile'})(ProfileDataFormSlave)\r\n\r\ntype PropsType = {\r\n    onSubmit: (formData: ProfileFormValuesType) => void\r\n    initialValues: ProfileFormValuesType\r\n    profile: ProfileType\r\n}\r\n\r\nexport const ProfileDataForm: React.FC<PropsType> = (props) => {\r\n    const onSubmit = (formData: ProfileFormValuesType) => {\r\n        props.onSubmit(formData)\r\n    }\r\n\r\n    return <ProfileDataFormReduxForm onSubmit={onSubmit} initialValues={props.initialValues}/>\r\n}\r\n\r\n","import React, {ChangeEvent, useState} from 'react';\r\nimport s from './ProfileInfo.module.scss'\r\nimport {Preloader} from \"../../common/Preloader/Preloader\";\r\nimport jobYes from '../../../assets/images/jobYes.png'\r\nimport jobNo from '../../../assets/images/jobNo.png'\r\nimport defaultAva from '../../../assets/images/default_ava.png'\r\nimport {ProfileStatusWithHooks} from \"./ProfileStatusWithHooks\";\r\nimport {ContactsType, ProfileType} from \"../../../types/types\";\r\nimport {ProfileDataForm, ProfileFormValuesType} from \"./ProfileDataForm\";\r\n\r\ntype ProfileInfoPropsType = {\r\n    isOwner?: boolean\r\n    profile: ProfileType\r\n    status: string\r\n    updateStatus: (status: string) => void\r\n    savePhoto: (file: File) => void\r\n    saveProfile: (profile: ProfileType) => Promise<void>\r\n}\r\n\r\nexport const ProfileInfo: React.FC<ProfileInfoPropsType> = ({\r\n                                                                profile,\r\n                                                                status,\r\n                                                                updateStatus,\r\n                                                                isOwner,\r\n                                                                savePhoto,\r\n                                                                saveProfile\r\n                                                            }) => {\r\n    let [editMode, setEditMode] = useState(false);\r\n\r\n    if (!Object.keys(profile).length) {\r\n        return <Preloader/>\r\n    }\r\n\r\n    const onMainPhotoSelected = (e: ChangeEvent<HTMLInputElement>) => {\r\n        if (e.target.files && e.target.files.length) {\r\n            savePhoto(e.target.files[0])\r\n        }\r\n    }\r\n\r\n    // todo: need to fix ts-ignore. Find right way to type return promise\r\n    const onSubmit = (formData: ProfileFormValuesType) => {\r\n        const profileUpdated = {...profile, ...formData}\r\n        const promise = saveProfile(profileUpdated)\r\n        debugger\r\n        promise.then(\r\n            () => {\r\n                setEditMode(false)\r\n            }\r\n        )\r\n        //\r\n    }\r\n\r\n    return <>\r\n        <div className={s.descriptionBlock}>\r\n            <div className={s.left}>\r\n                <img src={profile.photos.large ? profile.photos.large : defaultAva} alt=\"\" className={s.mainPhoto}/>\r\n                {isOwner && <input type={'file'} onChange={onMainPhotoSelected}/>}\r\n\r\n                <ProfileStatusWithHooks status={status} updateStatus={updateStatus}/>\r\n            </div>\r\n            <div className={s.right}>\r\n                {editMode\r\n                    ? <ProfileDataForm initialValues={{\r\n                        fullName: profile.fullName,\r\n                        lookingForAJob: profile.lookingForAJob,\r\n                        lookingForAJobDescription: profile.lookingForAJobDescription,\r\n                        aboutMe: profile.aboutMe,\r\n                        contacts: profile.contacts\r\n                    }}\r\n                                       profile={profile}\r\n                                       onSubmit={onSubmit}/>\r\n                    : <ProfileData goToEditMode={() => {\r\n                        setEditMode(true)\r\n                    }} profile={profile} isOwner={isOwner}/>}\r\n\r\n            </div>\r\n        </div>\r\n    </>;\r\n}\r\n\r\ntype ProfileDataPropsType = {\r\n    profile: ProfileType\r\n    isOwner: boolean | undefined\r\n    goToEditMode: () => void\r\n}\r\n\r\nconst ProfileData: React.FC<ProfileDataPropsType> = ({profile, isOwner, goToEditMode}) => {\r\n    return <div>\r\n        {isOwner && <div>\r\n          <button onClick={goToEditMode}>edit</button>\r\n        </div>}\r\n        <div>\r\n            <b>Full Name</b>: {profile.fullName}\r\n        </div>\r\n        <div className={s.jobContainer}>\r\n            <b>Looking for a job:</b>\r\n            <img className={s.jobStatus} src={profile.lookingForAJob ? jobYes : jobNo} alt=\"\"/>\r\n        </div>\r\n        {profile.lookingForAJob &&\r\n          <div className={s.jobContainer}>\r\n            <b>My professional skills:</b>: {profile.lookingForAJobDescription}\r\n          </div>\r\n        }\r\n        <div>\r\n            <b>About Me</b>: {profile.aboutMe}\r\n        </div>\r\n        <div>\r\n            <b>Contacts</b>: {Object.keys(profile.contacts).map(key => {\r\n            return <Contact key={key} contactTitle={key} contactValue={profile.contacts[key as keyof ContactsType]}/>\r\n        })}\r\n        </div>\r\n\r\n        <div>Job Description: {profile.lookingForAJobDescription}</div>\r\n    </div>\r\n}\r\n\r\ntype ContactPropsType = {\r\n    contactTitle: string\r\n    contactValue: string\r\n}\r\n\r\nconst Contact: React.FC<ContactPropsType> = ({contactTitle, contactValue}) => {\r\n    return <div className={s.contact}><b>{contactTitle}</b>: {contactValue}</div>\r\n}","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","import React from 'react';\r\nimport s from './Profile.module.css'\r\nimport {MyPostsContainer} from './MyPosts/MyPostsContainer';\r\nimport {ProfileInfo} from \"./ProfileInfo/ProfileInfo\";\r\nimport {ProfilePropsType} from \"./ProfileContainer\";\r\n\r\n\r\nexport const Profile: React.FC<ProfilePropsType> = (props) => {\r\n    return (\r\n        <div className={s.content}>\r\n            <ProfileInfo savePhoto={props.savePhoto}\r\n                         isOwner={props.isOwner}\r\n                         profile={props.profilePage.profile}\r\n                         status={props.status}\r\n                         saveProfile={props.saveProfile}\r\n                         updateStatus={props.updateStatus}/>\r\n            <MyPostsContainer/>\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\nimport {Profile} from \"./Profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    getStatus,\r\n    getUserProfile,\r\n    InitialStateProfileType,\r\n    savePhoto,\r\n    saveProfile,\r\n    updateStatus\r\n} from \"../../redux/profile-reducer\";\r\nimport {AppRootStateType} from \"../../redux/redux-store\";\r\nimport {RouteComponentProps, withRouter} from 'react-router-dom';\r\nimport {compose} from \"redux\";\r\nimport {ProfileType} from \"../../types/types\";\r\n\r\ntype PathParamsType = {\r\n    userId: string\r\n}\r\ntype MapStatePropsType = {\r\n    isOwner?: boolean\r\n    profilePage: InitialStateProfileType\r\n    status: string\r\n    authorizedUserId: number | null\r\n    isAuth: boolean\r\n}\r\ntype MapDispatchPropsType = {\r\n    getUserProfile: (userId: number) => void\r\n    getStatus: (userId: number) => void\r\n    updateStatus: (status: string) => void\r\n    savePhoto: (file: File) => void\r\n    saveProfile: (profile: ProfileType) => Promise<void>\r\n}\r\ntype OwnPropsType = MapStatePropsType & MapDispatchPropsType\r\nexport type ProfilePropsType = RouteComponentProps<PathParamsType> & OwnPropsType\r\n\r\nclass ProfileContainer extends React.Component<ProfilePropsType> {\r\n\r\n    refreshProfile() {\r\n        let userId: number | null = parseInt(this.props.match.params.userId)\r\n        if (!userId) {\r\n            userId = this.props.authorizedUserId\r\n            if (!userId) {\r\n                this.props.history.push('/login')\r\n            }\r\n        }\r\n        if (userId) {\r\n            this.props.getUserProfile(userId)\r\n            this.props.getStatus(userId)\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.refreshProfile()\r\n    }\r\n\r\n    componentDidUpdate(prevProps: Readonly<ProfilePropsType>, prevState: Readonly<{}>, snapshot?: any) {\r\n        if (this.props.match.params.userId !== prevProps.match.params.userId) {\r\n            this.refreshProfile()\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Profile {...this.props}\r\n                     isOwner={!this.props.match.params.userId}\r\n                     profilePage={this.props.profilePage}\r\n                     status={this.props.status}\r\n                     updateStatus={this.props.updateStatus}\r\n                     savePhoto={this.props.savePhoto}/>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state: AppRootStateType): MapStatePropsType => {\r\n    return ({\r\n        profilePage: state.profilePage,\r\n        status: state.profilePage.status,\r\n        authorizedUserId: state.auth.id,\r\n        isAuth: state.auth.isAuth\r\n    })\r\n}\r\n\r\nexport default compose<React.ComponentType>(\r\n    connect(mapStateToProps, {getUserProfile, getStatus, updateStatus, savePhoto, saveProfile}),\r\n    withRouter\r\n)(ProfileContainer)\r\n\r\n\r\n\r\n"],"sourceRoot":""}